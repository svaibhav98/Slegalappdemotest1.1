{"dependencies":[{"name":"./Exceptions","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":130,"index":130}}],"key":"Nq/OlEnbV3YBk9i1ao8fq0Ubk6w=","exportNames":["*"],"imports":1}},{"name":"./Utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":131},"end":{"line":2,"column":190,"index":321}}],"key":"CMgbuUaZyf+EaS8akFL9a63FMpQ=","exportNames":["*"],"imports":1}},{"name":"../Clipboard.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":322},"end":{"line":3,"column":51,"index":373}}],"key":"71z2nRpK5p6SvXwW/8XIv50J1RM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),n=r(d[1]),o=r(d[2]),c={async getStringAsync(c){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{if(c.preferredFormat===o.StringFormat.HTML){const t=await navigator.clipboard.read(),o=await(0,n.findHtmlInClipboardAsync)(t);return o?await new Response(o).text():await navigator.clipboard.readText()}{let t=await navigator.clipboard.readText();if(!t||''===t){const o=await navigator.clipboard.read(),c=await(0,n.findHtmlInClipboardAsync)(o),l=await(c?.text());t=(0,n.htmlToPlainText)(l??'')}return t}}catch(o){if('object'==typeof o&&'NotAllowedError'===o?.name||await(0,n.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;try{return window.clipboardData.getData('Text')}catch{return Promise.reject(new Error('Unable to retrieve item from clipboard'))}}},setString(t){const n=document.createElement('textarea');n.textContent=t,document.body.appendChild(n),n.select();try{return document.execCommand('copy'),!0}catch{return!1}finally{document.body.removeChild(n)}},async setStringAsync(c,l){if(l.inputFormat===o.StringFormat.HTML){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{const t=(s=c,new ClipboardItem({'text/html':new Blob([s],{type:'text/html'}),'text/plain':new Blob([(0,n.htmlToPlainText)(s)],{type:'text/plain'})}));return await navigator.clipboard.write([t]),!0}catch(o){if('object'==typeof o&&'NotAllowedError'===o?.name||await(0,n.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;throw new t.CopyFailureException(o.message)}}try{if(!navigator.clipboard)throw new Error;return await navigator.clipboard.writeText(c),!0}catch{return this.setString(c)}var s},hasStringAsync:async()=>await l(['text/plain','text/html']),async getImageAsync(o){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{const t=await navigator.clipboard.read(),o=await(0,n.findImageInClipboardAsync)(t);if(!o)return null;const[c,l]=await Promise.all([(0,n.blobToBase64Async)(o),(0,n.getImageSizeFromBlobAsync)(o)]);return{data:c,size:l}}catch(o){if('object'==typeof o&&'NotAllowedError'===o?.name||await(0,n.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;throw new t.PasteFailureException(o.message)}},async setImageAsync(o){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{const t=(0,n.base64toBlob)(o,'image/png');await navigator.clipboard.write([new ClipboardItem({[t.type]:t})])}catch(n){throw new t.CopyFailureException(n.message)}},hasImageAsync:async()=>await l(['image/png','image/jpeg']),addClipboardListener(){},removeClipboardListener(){}};async function l(o){if(!navigator.clipboard)throw new t.ClipboardUnavailableException;try{return(await navigator.clipboard.read()).flatMap(t=>t.types).some(t=>o.includes(t))}catch(o){if('object'==typeof o&&'NotAllowedError'===o?.name||await(0,n.isClipboardPermissionDeniedAsync)())throw new t.NoPermissionException;throw o}}});","lineCount":1,"map":[[1,90,4,0,"Object"],[1,97,4,0,"defineProperty"],[1,112,4,0,"e"],[1,114,4,0],[1,125,4,0,"enumerable"],[1,137,4,0],[1,139,4,0,"get"],[1,143,4,0],[1,161,4,0,"_default"],[1,162,4,0],[1,166,1,0],[1,170,1,0,"_Exceptions"],[1,172,1,0,"r"],[1,174,1,0,"d"],[1,176,1,0],[1,180,2,0,"_Utils"],[1,182,2,0,"r"],[1,184,2,0,"d"],[1,186,2,0],[1,190,3,0,"_ClipboardTypes"],[1,192,3,0,"r"],[1,194,3,0,"d"],[1,196,3,0],[1,200,4,0,"_default"],[1,202,4,15],[1,203,5,4],[1,223,5,10,"getStringAsync"],[1,224,5,25,"options"],[1,227,6,8],[1,231,6,13,"navigator"],[1,241,6,23,"clipboard"],[1,251,7,12],[1,257,7,18],[1,261,7,22,"ClipboardUnavailableException"],[1,263,7,51,"ClipboardUnavailableException"],[1,293,9,8],[1,297,10,12],[1,300,10,20,"options"],[1,302,10,28,"preferredFormat"],[1,320,11,21,"StringFormat"],[1,322,11,33,"StringFormat"],[1,335,11,34,"HTML"],[1,340,11,40],[1,341,13,20],[1,347,13,26,"clipboardItems"],[1,355,13,49,"navigator"],[1,365,13,59,"clipboard"],[1,375,13,69,"read"],[1,382,14,26,"blob"],[1,390,14,39],[1,392,14,39,"findHtmlInClipboardAsync"],[1,394,14,63,"findHtmlInClipboardAsync"],[1,420,14,64,"clipboardItems"],[1,423,15,20],[1,430,15,25,"blob"],[1,438,19,33],[1,442,19,37,"Response"],[1,451,19,46,"blob"],[1,454,19,52,"text"],[1,467,17,37,"navigator"],[1,477,17,47,"clipboard"],[1,487,17,57,"readText"],[1,497,20,16],[1,498,21,25],[1,499,22,20],[1,503,22,24,"text"],[1,511,22,37,"navigator"],[1,521,22,47,"clipboard"],[1,531,22,57,"readText"],[1,542,23,20],[1,546,23,25,"text"],[1,549,23,42],[1,554,23,33,"text"],[1,556,23,46],[1,557,25,24],[1,563,25,30,"clipboardItems"],[1,571,25,53,"navigator"],[1,581,25,63,"clipboard"],[1,591,25,73,"read"],[1,598,26,30,"blob"],[1,606,26,43],[1,608,26,43,"findHtmlInClipboardAsync"],[1,610,26,67,"findHtmlInClipboardAsync"],[1,636,26,68,"clipboardItems"],[1,639,27,30,"blobText"],[1,647,27,47,"blob"],[1,650,27,53,"text"],[1,658,28,24,"text"],[1,661,28,31],[1,663,28,31,"htmlToPlainText"],[1,665,28,46,"htmlToPlainText"],[1,682,28,47,"blobText"],[1,685,28,59],[1,688,29,20],[1,689,30,20],[1,696,30,27,"text"],[1,697,31,16],[1,698,33,8],[1,699,34,8],[1,705,34,15,"error"],[1,708,36,12],[1,711,36,34],[1,728,36,24,"error"],[1,731,36,62],[1,751,36,46,"error"],[1,754,36,53,"name"],[1,766,37,23],[1,768,37,23,"isClipboardPermissionDeniedAsync"],[1,770,37,55,"isClipboardPermissionDeniedAsync"],[1,806,38,16],[1,812,38,22],[1,816,38,26,"NoPermissionException"],[1,818,38,47,"NoPermissionException"],[1,840,40,12],[1,844,43,16],[1,851,43,23,"window"],[1,858,43,30,"clipboardData"],[1,872,43,44,"getData"],[1,880,43,52],[1,887,44,12],[1,888,45,12],[1,894,46,16],[1,901,46,23,"Promise"],[1,909,46,31,"reject"],[1,916,46,38],[1,920,46,42,"Error"],[1,926,46,48],[1,968,47,12],[1,969,48,8],[1,970,49,4],[1,972,51,4,"setString"],[1,982,51,14,"text"],[1,985,52,8],[1,991,52,14,"textField"],[1,993,52,26,"document"],[1,1002,52,35,"createElement"],[1,1016,52,49],[1,1028,53,8,"textField"],[1,1030,53,18,"textContent"],[1,1042,53,32,"text"],[1,1044,54,8,"document"],[1,1053,54,17,"body"],[1,1058,54,22,"appendChild"],[1,1070,54,34,"textField"],[1,1073,55,8,"textField"],[1,1075,55,18,"select"],[1,1084,56,8],[1,1088,58,12],[1,1095,57,12,"document"],[1,1104,57,21,"execCommand"],[1,1116,57,33],[1,1125,58,19],[1,1126,59,8],[1,1127,60,8],[1,1133,61,12],[1,1140,61,19],[1,1141,62,8],[1,1142,62,9],[1,1150,64,12,"document"],[1,1159,64,21,"body"],[1,1164,64,26,"removeChild"],[1,1176,64,38,"textField"],[1,1178,65,8],[1,1179,66,4],[1,1181,67,4],[1,1201,67,10,"setStringAsync"],[1,1202,67,25,"text"],[1,1204,67,31,"options"],[1,1207,68,8],[1,1210,68,16,"options"],[1,1212,68,24,"inputFormat"],[1,1226,69,17,"StringFormat"],[1,1228,69,29,"StringFormat"],[1,1241,69,30,"HTML"],[1,1246,69,12],[1,1247,70,16],[1,1251,70,21,"navigator"],[1,1261,70,31,"clipboard"],[1,1271,71,20],[1,1277,71,26],[1,1281,71,30,"ClipboardUnavailableException"],[1,1283,71,59,"ClipboardUnavailableException"],[1,1313,73,16],[1,1317,74,20],[1,1323,74,26,"clipboardItemInput"],[1,1326,177,33,"htmlString"],[1,1328,74,71,"text"],[1,1330,178,11],[1,1334,178,15,"ClipboardItem"],[1,1348,178,29],[1,1349,180,8],[1,1361,180,21],[1,1365,180,25,"Blob"],[1,1370,180,30],[1,1371,180,31,"htmlString"],[1,1374,180,44],[1,1375,180,46,"type"],[1,1380,180,52],[1,1394,182,8],[1,1407,182,22],[1,1411,182,26,"Blob"],[1,1416,182,31],[1,1418,182,32],[1,1420,182,32,"htmlToPlainText"],[1,1422,182,47,"htmlToPlainText"],[1,1439,182,48,"htmlString"],[1,1443,182,62],[1,1444,182,64,"type"],[1,1449,182,70],[1,1467,76,20],[1,1480,75,26,"navigator"],[1,1490,75,36,"clipboard"],[1,1500,75,46,"write"],[1,1506,75,52],[1,1507,75,53,"clipboardItemInput"],[1,1512,76,27],[1,1513,77,16],[1,1514,78,16],[1,1520,78,23,"error"],[1,1523,80,20],[1,1526,80,42],[1,1543,80,32,"error"],[1,1546,80,70],[1,1566,80,54,"error"],[1,1569,80,61,"name"],[1,1581,81,31],[1,1583,81,31,"isClipboardPermissionDeniedAsync"],[1,1585,81,63,"isClipboardPermissionDeniedAsync"],[1,1621,82,24],[1,1627,82,30],[1,1631,82,34,"NoPermissionException"],[1,1633,82,55,"NoPermissionException"],[1,1655,84,20],[1,1661,84,26],[1,1665,84,30,"CopyFailureException"],[1,1667,84,50,"CopyFailureException"],[1,1688,84,51,"error"],[1,1690,84,57,"message"],[1,1698,85,16],[1,1699,86,12],[1,1700,88,16],[1,1704,89,20],[1,1708,89,25,"navigator"],[1,1718,89,35,"clipboard"],[1,1728,90,24],[1,1734,90,30],[1,1738,90,34,"Error"],[1,1744,93,20],[1,1757,92,26,"navigator"],[1,1767,92,36,"clipboard"],[1,1777,92,46,"writeText"],[1,1787,92,56,"text"],[1,1791,93,27],[1,1792,94,16],[1,1793,95,16],[1,1799,98,20],[1,1806,98,27,"this"],[1,1811,98,32,"setString"],[1,1821,98,42,"text"],[1,1823,99,16],[1,1824,177,0],[1,1828,177,33,"htmlString"],[1,1829,102,4],[1,1831,103,4,"async"],[1,1846,103,24,"hasStringAsync"],[1,1861,104,21,"clipboardHasTypesAsync"],[1,1863,104,44],[1,1864,104,45],[1,1877,104,59],[1,1891,106,4],[1,1910,106,10,"getImageAsync"],[1,1911,106,24,"_options"],[1,1914,107,8],[1,1918,107,13,"navigator"],[1,1928,107,23,"clipboard"],[1,1938,108,12],[1,1944,108,18],[1,1948,108,22,"ClipboardUnavailableException"],[1,1950,108,51,"ClipboardUnavailableException"],[1,1980,110,8],[1,1984,111,12],[1,1990,111,18,"clipboardItems"],[1,1998,111,41,"navigator"],[1,2008,111,51,"clipboard"],[1,2018,111,61,"read"],[1,2025,112,18,"blob"],[1,2033,112,31],[1,2035,112,31,"findImageInClipboardAsync"],[1,2037,112,56,"findImageInClipboardAsync"],[1,2064,112,57,"clipboardItems"],[1,2067,113,12],[1,2071,113,17,"blob"],[1,2073,114,16],[1,2080,114,23],[1,2085,116,12],[1,2091,116,19,"data"],[1,2093,116,25,"size"],[1,2102,116,39,"Promise"],[1,2110,116,47,"all"],[1,2114,116,51],[1,2116,117,16],[1,2118,117,16,"blobToBase64Async"],[1,2120,117,33,"blobToBase64Async"],[1,2139,117,34,"blob"],[1,2143,118,16],[1,2145,118,16,"getImageSizeFromBlobAsync"],[1,2147,118,41,"getImageSizeFromBlobAsync"],[1,2174,118,42,"blob"],[1,2179,120,12],[1,2185,120,19],[1,2186,120,21,"data"],[1,2193,120,27,"size"],[1,2200,121,8],[1,2201,122,8],[1,2207,122,15,"error"],[1,2210,124,12],[1,2213,124,34],[1,2230,124,24,"error"],[1,2233,124,62],[1,2253,124,46,"error"],[1,2256,124,53,"name"],[1,2268,125,23],[1,2270,125,23,"isClipboardPermissionDeniedAsync"],[1,2272,125,55,"isClipboardPermissionDeniedAsync"],[1,2308,126,16],[1,2314,126,22],[1,2318,126,26,"NoPermissionException"],[1,2320,126,47,"NoPermissionException"],[1,2342,128,12],[1,2348,128,18],[1,2352,128,22,"PasteFailureException"],[1,2354,128,43,"PasteFailureException"],[1,2376,128,44,"error"],[1,2378,128,50,"message"],[1,2386,129,8],[1,2387,130,4],[1,2389,131,4],[1,2408,131,10,"setImageAsync"],[1,2409,131,24,"base64image"],[1,2412,132,8],[1,2416,132,13,"navigator"],[1,2426,132,23,"clipboard"],[1,2436,133,12],[1,2442,133,18],[1,2446,133,22,"ClipboardUnavailableException"],[1,2448,133,51,"ClipboardUnavailableException"],[1,2478,135,8],[1,2482,138,12],[1,2488,138,18,"blob"],[1,2491,138,25],[1,2493,138,25,"base64toBlob"],[1,2495,138,37,"base64toBlob"],[1,2509,138,38,"base64image"],[1,2511,138,51],[1,2530,139,18,"navigator"],[1,2540,139,28,"clipboard"],[1,2550,139,38,"write"],[1,2556,139,44],[1,2557,140,16],[1,2561,140,20,"ClipboardItem"],[1,2575,140,34],[1,2576,141,20],[1,2577,141,21,"blob"],[1,2579,141,26,"type"],[1,2585,141,33,"blob"],[1,2590,144,8],[1,2591,145,8],[1,2597,145,15,"err"],[1,2600,146,12],[1,2606,146,18],[1,2610,146,22,"CopyFailureException"],[1,2612,146,42,"CopyFailureException"],[1,2633,146,43,"err"],[1,2635,146,47,"message"],[1,2643,147,8],[1,2644,148,4],[1,2646,149,4,"async"],[1,2660,149,23,"hasImageAsync"],[1,2675,150,21,"clipboardHasTypesAsync"],[1,2677,150,44],[1,2678,150,45],[1,2690,150,58],[1,2705,152,4,"addClipboardListener"],[1,2728,152,29],[1,2730,153,4,"removeClipboardListener"],[1,2756,153,32],[1,2759,160,0,"async"],[1,2774,160,15,"clipboardHasTypesAsync"],[1,2776,160,38,"types"],[1,2779,161,4],[1,2783,161,9,"navigator"],[1,2793,161,19,"clipboard"],[1,2803,162,8],[1,2809,162,14],[1,2813,162,18,"ClipboardUnavailableException"],[1,2815,162,47,"ClipboardUnavailableException"],[1,2845,164,4],[1,2849,166,8],[1,2862,165,37,"navigator"],[1,2872,165,47,"clipboard"],[1,2882,165,57,"read"],[1,2890,166,30,"flatMap"],[1,2898,166,39,"item"],[1,2901,166,48,"item"],[1,2903,166,53,"types"],[1,2910,166,60,"some"],[1,2915,166,66,"type"],[1,2918,166,75,"types"],[1,2920,166,81,"includes"],[1,2929,166,90,"type"],[1,2932,167,4],[1,2933,168,4],[1,2939,168,11,"error"],[1,2942,170,8],[1,2945,170,30],[1,2962,170,20,"error"],[1,2965,170,58],[1,2985,170,42,"error"],[1,2988,170,49,"name"],[1,3000,171,19],[1,3002,171,19,"isClipboardPermissionDeniedAsync"],[1,3004,171,51,"isClipboardPermissionDeniedAsync"],[1,3040,172,12],[1,3046,172,18],[1,3050,172,22,"NoPermissionException"],[1,3052,172,43,"NoPermissionException"],[1,3074,174,8],[1,3080,174,14,"error"],[1,3081,175,4],[1,3082,176,0],[1,3083,184,1],[1,3086]],"functionMap":{"names":["<global>","default.getStringAsync","default.setString","default.setStringAsync","default.hasStringAsync","default.getImageAsync","default.setImageAsync","default.hasImageAsync","default.addClipboardListener","default.removeClipboardListener","clipboardHasTypesAsync","clipboardItems.flatMap$argument_0","clipboardItems.flatMap.some$argument_0","createHtmlClipboardItem"],"mappings":"AAA;ICI;KD4C;IEE;KFe;IGC;KHmC;IIC;KJE;IKC;KLwB;IMC;KNiB;IOC;KPE;IQC,0BR;ISC,6BT;AUO;sCCM,oBD,OE,8BF;CVU;AaC;CbO"},"hasCjsExports":false},"type":"js/module"}]}