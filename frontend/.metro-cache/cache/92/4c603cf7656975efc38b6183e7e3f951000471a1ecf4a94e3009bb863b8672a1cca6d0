{"dependencies":[{"name":"./metadata","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":19,"index":730},"end":{"line":20,"column":40,"index":751}}],"key":"6KRjstwF8yWfkztxpqnIypQq1mI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CallCredentials=void 0;const t=r(d[0]);class s{static createFromMetadataGenerator(t){return new o(t)}static createFromGoogleCredential(n){return s.createFromMetadataGenerator((s,o)=>{let c;var u;c='getRequestHeaders'in(u=n)&&'function'==typeof u.getRequestHeaders?n.getRequestHeaders(s.service_url):new Promise((t,o)=>{n.getRequestMetadata(s.service_url,(s,n)=>{s?o(s):n?t(n):o(new Error('Headers not set by metadata plugin'))})}),c.then(s=>{const n=new t.Metadata;for(const t of Object.keys(s))n.add(t,s[t]);o(null,n)},t=>{o(t)})})}static createEmpty(){return new c}}e.CallCredentials=s;class n extends s{constructor(t){super(),this.creds=t}async generateMetadata(s){const n=new t.Metadata,o=await Promise.all(this.creds.map(t=>t.generateMetadata(s)));for(const t of o)n.merge(t);return n}compose(t){return new n(this.creds.concat([t]))}_equals(t){return this===t||t instanceof n&&this.creds.every((s,n)=>s._equals(t.creds[n]))}}class o extends s{constructor(t){super(),this.metadataGenerator=t}generateMetadata(t){return new Promise((s,n)=>{this.metadataGenerator(t,(t,o)=>{void 0!==o?s(o):n(t)})})}compose(t){return new n([this,t])}_equals(t){return this===t||t instanceof o&&this.metadataGenerator===t.metadataGenerator}}class c extends s{generateMetadata(s){return Promise.resolve(new t.Metadata)}compose(t){return t}_equals(t){return t instanceof c}}});","lineCount":1,"map":[[1,28,1,0],[1,41,18,0,"Object"],[1,48,18,7,"defineProperty"],[1,63,18,22,"exports"],[1,65,18,31],[1,78,18,45],[1,79,18,47,"value"],[1,86,18,54],[1,90,19,0,"exports"],[1,92,19,8,"CallCredentials"],[1,113,19,23,"undefined"],[1,115,20,0],[1,121,20,6,"metadata_1"],[1,123,20,19,"require"],[1,125,20,26,"d"],[1,127,20,26],[1,131,29,0],[1,137,29,6,"CallCredentials"],[1,139,37,4],[1,173,37,11,"createFromMetadataGenerator"],[1,174,37,39,"metadataGenerator"],[1,177,38,8],[1,184,38,15],[1,188,38,19,"SingleCallCredentials"],[1,190,38,41,"metadataGenerator"],[1,192,39,4],[1,193,45,4],[1,226,45,11,"createFromGoogleCredential"],[1,227,45,38,"googleCredentials"],[1,230,46,8],[1,237,46,15,"CallCredentials"],[1,239,46,31,"createFromMetadataGenerator"],[1,267,46,59],[1,268,46,60,"options"],[1,270,46,69,"callback"],[1,275,47,12],[1,279,47,16,"getHeaders"],[1,281,21,0],[1,285,21,31,"client"],[1,287,49,16,"getHeaders"],[1,289,22,12],[1,311,21,31,"client"],[1,313,48,38,"googleCredentials"],[1,317,23,44],[1,336,23,15,"client"],[1,338,23,22,"getRequestHeaders"],[1,356,49,29,"googleCredentials"],[1,358,49,47,"getRequestHeaders"],[1,376,49,65,"options"],[1,378,49,73,"service_url"],[1,391,52,29],[1,395,52,33,"Promise"],[1,403,52,41],[1,404,52,42,"resolve"],[1,406,52,51,"reject"],[1,411,53,20,"googleCredentials"],[1,413,53,38,"getRequestMetadata"],[1,432,53,57,"options"],[1,434,53,65,"service_url"],[1,446,53,78],[1,447,53,79,"err"],[1,449,53,84,"headers"],[1,454,54,28,"err"],[1,456,55,28,"reject"],[1,458,55,35,"err"],[1,461,58,29,"headers"],[1,463,62,24,"resolve"],[1,465,62,32,"headers"],[1,468,59,28,"reject"],[1,470,59,35],[1,474,59,39,"Error"],[1,480,59,45],[1,523,66,12,"getHeaders"],[1,525,66,23,"then"],[1,530,66,28,"headers"],[1,534,67,16],[1,540,67,22,"metadata"],[1,542,67,33],[1,546,67,37,"metadata_1"],[1,548,67,48,"Metadata"],[1,557,68,16],[1,561,68,21],[1,567,68,27,"key"],[1,572,68,34,"Object"],[1,579,68,41,"keys"],[1,584,68,46,"headers"],[1,587,69,20,"metadata"],[1,589,69,29,"add"],[1,593,69,33,"key"],[1,595,69,38,"headers"],[1,597,69,46,"key"],[1,601,71,16,"callback"],[1,603,71,25],[1,608,71,31,"metadata"],[1,612,72,15,"err"],[1,616,73,16,"callback"],[1,618,73,25,"err"],[1,624,76,4],[1,625,77,4],[1,643,77,11,"createEmpty"],[1,646,78,8],[1,653,78,15],[1,657,78,19,"EmptyCallCredentials"],[1,658,79,4],[1,660,81,0,"exports"],[1,662,81,8,"CallCredentials"],[1,678,81,26,"CallCredentials"],[1,680,82,0],[1,686,82,6,"ComposedCallCredentials"],[1,696,82,38,"CallCredentials"],[1,698,83,4,"constructor"],[1,710,83,16,"creds"],[1,713,84,8,"super"],[1,721,85,8,"this"],[1,726,85,13,"creds"],[1,732,85,21,"creds"],[1,733,86,4],[1,734,87,4],[1,756,87,10,"generateMetadata"],[1,757,87,27,"options"],[1,760,88,8],[1,766,88,14,"base"],[1,768,88,21],[1,772,88,25,"metadata_1"],[1,774,88,36,"Metadata"],[1,783,89,14,"generated"],[1,791,89,32,"Promise"],[1,799,89,40,"all"],[1,803,89,44,"this"],[1,808,89,49,"creds"],[1,814,89,55,"map"],[1,818,89,59,"cred"],[1,821,89,67,"cred"],[1,823,89,72,"generateMetadata"],[1,840,89,89,"options"],[1,845,90,8],[1,849,90,13],[1,855,90,19,"gen"],[1,860,90,26,"generated"],[1,862,91,12,"base"],[1,864,91,17,"merge"],[1,870,91,23,"gen"],[1,873,93,8],[1,880,93,15,"base"],[1,881,94,4],[1,882,95,4,"compose"],[1,890,95,12,"other"],[1,893,96,8],[1,900,96,15],[1,904,96,19,"ComposedCallCredentials"],[1,906,96,43,"this"],[1,911,96,48,"creds"],[1,917,96,54,"concat"],[1,924,96,61],[1,925,96,62,"other"],[1,929,97,4],[1,930,98,4,"_equals"],[1,938,98,12,"other"],[1,941,99,8],[1,948,99,12,"this"],[1,955,99,21,"other"],[1,958,102,12,"other"],[1,971,102,29,"ComposedCallCredentials"],[1,974,103,19,"this"],[1,979,103,24,"creds"],[1,985,103,30,"every"],[1,991,103,36],[1,992,103,37,"value"],[1,994,103,44,"index"],[1,998,103,54,"value"],[1,1000,103,60,"_equals"],[1,1008,103,68,"other"],[1,1010,103,74,"creds"],[1,1016,103,80,"index"],[1,1020,108,4],[1,1022,110,0],[1,1028,110,6,"SingleCallCredentials"],[1,1038,110,36,"CallCredentials"],[1,1040,111,4,"constructor"],[1,1052,111,16,"metadataGenerator"],[1,1055,112,8,"super"],[1,1063,113,8,"this"],[1,1068,113,13,"metadataGenerator"],[1,1086,113,33,"metadataGenerator"],[1,1087,114,4],[1,1088,115,4,"generateMetadata"],[1,1105,115,21,"options"],[1,1108,116,8],[1,1115,116,15],[1,1119,116,19,"Promise"],[1,1127,116,27],[1,1128,116,28,"resolve"],[1,1130,116,37,"reject"],[1,1135,117,12,"this"],[1,1140,117,17,"metadataGenerator"],[1,1158,117,35,"options"],[1,1160,117,44],[1,1161,117,45,"err"],[1,1163,117,50,"metadata"],[1,1173,118,33,"undefined"],[1,1177,118,20,"metadata"],[1,1179,119,20,"resolve"],[1,1181,119,28,"metadata"],[1,1184,122,20,"reject"],[1,1186,122,27,"err"],[1,1192,126,4],[1,1193,127,4,"compose"],[1,1201,127,12,"other"],[1,1204,128,8],[1,1211,128,15],[1,1215,128,19,"ComposedCallCredentials"],[1,1217,128,43],[1,1218,128,44,"this"],[1,1223,128,50,"other"],[1,1226,129,4],[1,1227,130,4,"_equals"],[1,1235,130,12,"other"],[1,1238,131,8],[1,1245,131,12,"this"],[1,1252,131,21,"other"],[1,1255,134,12,"other"],[1,1268,134,29,"SingleCallCredentials"],[1,1271,135,19,"this"],[1,1276,135,24,"metadataGenerator"],[1,1296,135,46,"other"],[1,1298,135,52,"metadataGenerator"],[1,1315,140,4],[1,1317,142,0],[1,1323,142,6,"EmptyCallCredentials"],[1,1333,142,35,"CallCredentials"],[1,1335,143,4,"generateMetadata"],[1,1352,143,21,"options"],[1,1355,144,8],[1,1362,144,15,"Promise"],[1,1370,144,23,"resolve"],[1,1378,144,31],[1,1382,144,35,"metadata_1"],[1,1384,144,46,"Metadata"],[1,1393,145,4],[1,1394,146,4,"compose"],[1,1402,146,12,"other"],[1,1405,147,8],[1,1412,147,15,"other"],[1,1413,148,4],[1,1414,149,4,"_equals"],[1,1422,149,12,"other"],[1,1425,150,8],[1,1432,150,15,"other"],[1,1445,150,32,"EmptyCallCredentials"],[1,1446,151,4],[1,1448,152,1],[1,1451]],"functionMap":{"names":["<global>","isCurrentOauth2Client","CallCredentials","CallCredentials.createFromMetadataGenerator","CallCredentials.createFromGoogleCredential","CallCredentials.createFromMetadataGenerator$argument_0","Promise$argument_0","googleCredentials.getRequestMetadata$argument_1","getHeaders.then$argument_0","getHeaders.then$argument_1","CallCredentials.createEmpty","ComposedCallCredentials","ComposedCallCredentials#constructor","ComposedCallCredentials#generateMetadata","creds.map$argument_0","ComposedCallCredentials#compose","ComposedCallCredentials#_equals","creds.every$argument_0","SingleCallCredentials","SingleCallCredentials#constructor","SingleCallCredentials#generateMetadata","metadataGenerator$argument_1","SingleCallCredentials#compose","SingleCallCredentials#_equals","EmptyCallCredentials","EmptyCallCredentials#generateMetadata","EmptyCallCredentials#compose","EmptyCallCredentials#_equals"],"mappings":"AAA;ACoB;CDG;AEK;ICQ;KDE;IEM;2DCC;yCCM;8ECC;qBDU;iBDC;4BGE;aHM,EI;aJE;SDC;KFC;IQC;KRE;CFC;AWE;ICC;KDG;IEC;2DCE,sCD;KFK;IIC;KJE;IKC;oCCK,mDD;KLK;CXC;AkBC;ICC;KDG;IEC;2BdC;4CeC;afO;ScC;KFC;IIC;KJE;IKC;KLU;ClBC;AwBC;ICC;KDE;IEC;KFE;IGC;KHE;CxBC"},"hasCjsExports":true},"type":"js/module"}]}