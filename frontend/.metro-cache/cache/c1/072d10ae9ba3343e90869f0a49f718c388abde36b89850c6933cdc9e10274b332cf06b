{"dependencies":[{"name":"../util/minimal","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":11,"index":52},"end":{"line":4,"column":37,"index":78}}],"key":"G3cbM6U36uV+KIwbCEZbD3nflWA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";m.exports=n;var t=r(d[0]);function n(n,o,c){if(\"function\"!=typeof n)throw TypeError(\"rpcImpl must be a function\");t.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=Boolean(o),this.responseDelimited=Boolean(c)}(n.prototype=Object.create(t.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function n(o,c,l,s,u){if(!s)throw TypeError(\"request must be specified\");var p=this;if(!u)return t.asPromise(n,p,o,c,l,s);if(p.rpcImpl)try{return p.rpcImpl(o,c[p.requestDelimited?\"encodeDelimited\":\"encode\"](s).finish(),function(t,n){if(t)return p.emit(\"error\",t,o),u(t);if(null!==n){if(!(n instanceof l))try{n=l[p.responseDelimited?\"decodeDelimited\":\"decode\"](n)}catch(t){return p.emit(\"error\",t,o),u(t)}return p.emit(\"data\",n,o),u(null,n)}p.end(!0)})}catch(t){return p.emit(\"error\",t,o),void setTimeout(function(){u(t)},0)}else setTimeout(function(){u(Error(\"already ended\"))},0)},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit(\"end\").off()),this}});","lineCount":1,"map":[[1,28,1,0],[1,41,2,0,"module"],[1,43,2,7,"exports"],[1,51,2,17,"Service"],[1,53,4,0],[1,57,4,4,"util"],[1,59,4,11,"require"],[1,61,4,18,"d"],[1,63,4,18],[1,67,42,0],[1,76,42,9,"Service"],[1,78,42,17,"rpcImpl"],[1,80,42,26,"requestDelimited"],[1,82,42,44,"responseDelimited"],[1,85,44,4],[1,88,44,27],[1,107,44,15,"rpcImpl"],[1,109,45,8],[1,115,45,14,"TypeError"],[1,125,45,24],[1,155,47,4,"util"],[1,157,47,9,"EventEmitter"],[1,170,47,22,"call"],[1,175,47,27,"this"],[1,181,53,4,"this"],[1,186,53,9,"rpcImpl"],[1,194,53,19,"rpcImpl"],[1,196,59,4,"this"],[1,201,59,9,"requestDelimited"],[1,218,59,28,"Boolean"],[1,226,59,36,"requestDelimited"],[1,229,65,4,"this"],[1,234,65,9,"responseDelimited"],[1,252,65,29,"Boolean"],[1,260,65,37,"responseDelimited"],[1,262,66,0],[1,264,7,1,"Service"],[1,266,7,9,"prototype"],[1,276,7,21,"Object"],[1,283,7,28,"create"],[1,290,7,35,"util"],[1,292,7,40,"EventEmitter"],[1,305,7,53,"prototype"],[1,317,7,65,"constructor"],[1,329,7,79,"Service"],[1,331,79,0,"Service"],[1,333,79,8,"prototype"],[1,343,79,18,"rpcCall"],[1,351,79,28],[1,360,79,37,"rpcCall"],[1,362,79,45,"method"],[1,364,79,53,"requestCtor"],[1,366,79,66,"responseCtor"],[1,368,79,80,"request"],[1,370,79,89,"callback"],[1,373,81,4],[1,377,81,9,"request"],[1,379,82,8],[1,385,82,14,"TypeError"],[1,395,82,24],[1,424,84,4],[1,428,84,8,"self"],[1,430,84,15,"this"],[1,435,85,4],[1,439,85,9,"callback"],[1,441,86,8],[1,448,86,15,"util"],[1,450,86,20,"asPromise"],[1,460,86,30,"rpcCall"],[1,462,86,39,"self"],[1,464,86,45,"method"],[1,466,86,53,"requestCtor"],[1,468,86,66,"responseCtor"],[1,470,86,80,"request"],[1,473,88,4],[1,476,88,9,"self"],[1,478,88,14,"rpcImpl"],[1,486,93,4],[1,490,94,8],[1,497,94,15,"self"],[1,499,94,20,"rpcImpl"],[1,507,95,12,"method"],[1,509,96,12,"requestCtor"],[1,511,96,24,"self"],[1,513,96,29,"requestDelimited"],[1,530,96,48],[1,548,96,68],[1,558,96,78,"request"],[1,561,96,87,"finish"],[1,570,97,12],[1,579,97,33,"err"],[1,581,97,38,"response"],[1,584,99,16],[1,587,99,20,"err"],[1,589,101,20],[1,596,100,20,"self"],[1,598,100,25,"emit"],[1,603,100,30],[1,611,100,39,"err"],[1,613,100,44,"method"],[1,616,101,27,"callback"],[1,618,101,36,"err"],[1,621,104,16],[1,624,104,33],[1,631,104,20,"response"],[1,633,104,16],[1,634,109,16],[1,639,109,22,"response"],[1,652,109,42,"responseCtor"],[1,655,110,20],[1,659,111,24,"response"],[1,661,111,35,"responseCtor"],[1,663,111,48,"self"],[1,665,111,53,"responseDelimited"],[1,683,111,73],[1,701,111,93],[1,711,111,103,"response"],[1,713,112,20],[1,714,112,22],[1,720,112,29,"err"],[1,723,114,24],[1,730,113,24,"self"],[1,732,113,29,"emit"],[1,737,113,34],[1,745,113,43,"err"],[1,747,113,48,"method"],[1,750,114,31,"callback"],[1,752,114,40,"err"],[1,754,115,20],[1,755,119,16],[1,762,118,16,"self"],[1,764,118,21,"emit"],[1,769,118,26],[1,776,118,34,"response"],[1,778,118,44,"method"],[1,781,119,23,"callback"],[1,783,119,32],[1,788,119,38,"response"],[1,790,107,16],[1,791,105,20,"self"],[1,793,105,25,"end"],[1,798,105,46],[1,800,120,12],[1,802,122,4],[1,803,122,6],[1,809,122,13,"err"],[1,812,125,8],[1,819,123,8,"self"],[1,821,123,13,"emit"],[1,826,123,18],[1,834,123,27,"err"],[1,836,123,32,"method"],[1,844,124,8,"setTimeout"],[1,855,124,19],[1,866,124,32,"callback"],[1,868,124,41,"err"],[1,870,124,47],[1,872,124,50],[1,874,126,4],[1,880,89,8,"setTimeout"],[1,891,89,19],[1,902,89,32,"callback"],[1,904,89,41,"Error"],[1,910,89,47],[1,927,89,66],[1,929,89,69],[1,931,127,0],[1,933,134,0,"Service"],[1,935,134,8,"prototype"],[1,945,134,18,"end"],[1,949,134,24],[1,958,134,37,"endedByRPC"],[1,961,141,4],[1,968,135,8,"this"],[1,973,135,13,"rpcImpl"],[1,983,136,13,"endedByRPC"],[1,986,137,12,"this"],[1,991,137,17,"rpcImpl"],[1,999,137,25],[1,1004,137,31],[1,1009,137,37],[1,1015,138,8,"this"],[1,1020,138,13,"rpcImpl"],[1,1028,138,23],[1,1033,139,8,"this"],[1,1038,139,13,"emit"],[1,1043,139,18],[1,1050,139,25,"off"],[1,1057,141,11,"this"],[1,1061,142,0],[1,1062,142,2],[1,1065]],"functionMap":{"names":["<global>","Service","rpcCall","setTimeout$argument_0","rpcCallback","end"],"mappings":"AAA;ACyC;CDwB;4BEa;mBCU,gDD;YEQ;aFuB;mBCI,6BD;CFG;wBKO;CLQ"},"hasCjsExports":true},"type":"js/module"}]}